<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../styles/shared-styles.html">

<dom-module id="flux-mainsection">
  <template>
    <style include="todo-shared-styles">
      #main {
        position: relative;
        z-index: 2;
        border-top: 1px dotted #adadad;
      }

      label[for='toggle-all'] {
      	display: none;
      }

      #toggle-all {
      	position: absolute;
      	top: -42px;
      	left: -4px;
      	width: 40px;
      	text-align: center;
      	/* Mobile Safari */
      	border: none;
      }

      #toggle-all:before {
      	content: 'Â»';
      	font-size: 28px;
      	color: #d9d9d9;
      	padding: 0 25px 7px;
      }

      #toggle-all:checked:before {
      	color: #737373;
      }

      #todo-list {
        margin: 0;
        padding: 0;
        list-style: none;
      }
      
      @media screen and (-webkit-min-device-pixel-ratio:0) {
      	#toggle-all {
      		background: none;
      	}

      	#toggle-all {
      		top: -56px;
      		left: -15px;
      		width: 65px;
      		height: 41px;
      		-webkit-transform: rotate(90deg);
      		-ms-transform: rotate(90deg);
      		transform: rotate(90deg);
      		-webkit-appearance: none;
      		appearance: none;
      	}
      }
    </style>
    <template is="dom-if" if="[[isNotEmpty(allTodos)]]">
      <section id="main">
        <input
          id="toggle-all"
          type="checkbox"
          on-change="_onToggleCompleteAll"
          checked="[[isChecked(areAllComplete)]]"
        />
        <label for="toggle-all">Mark all as complete</label>
        <ul id="todo-list">
          <template is="dom-repeat" items="[[_toArray(allTodos)]]">
            <flux-todo-item todo="[[item]]" />
          </template>
        </ul>
      </section>
    </template>
  </template>
</dom-module>